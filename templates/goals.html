{% extends "base.html" %}

{% block title %}Your Goals{% endblock %}

{% block content %}
<div class="card">
    <h1>Long-term Goals</h1>

    <!-- Add Goal Form -->
    <form method="POST" class="form">
        <label for="title">Goal Title</label>
        <input type="text" id="title" name="title" placeholder="Goal Title" required>

        <label for="description">Description</label>
        <input type="text" id="description" name="description" placeholder="Description">

        <label for="target_date">Target Date</label>
        <input type="date" id="target_date" name="target_date">

        <button type="submit" class="btn">Add Goal</button>
    </form>
</div>

<div class="card">
    <h2>Goal List</h2>
    {% if goals %}
        <ul class="list">
            {% for goal in goals %}
                <li>
                    <b>{{ goal['title'] }}</b> - {{ goal['description'] or "No description" }}
                    <div class="goal-meta">
                        Target: {{ goal['target_date'] or "N/A" }},
                        Progress: <span class="progress">{{ goal['progress'] }}%</span>
                    </div>
                    <div class="actions">
                        <a href="{{ url_for('edit_goal', goal_id=goal['id']) }}" class="btn-edit">Edit</a>
                        <a href="{{ url_for('delete_goal', goal_id=goal['id']) }}" class="btn-delete">Delete</a>

                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No goals yet. Add one above!</p>
    {% endif %}
    <a href="{{ url_for('dashboard') }}" class="link">‚Üê Back to Dashboard</a>
</div>
{% endblock %}
